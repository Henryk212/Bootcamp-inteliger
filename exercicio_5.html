<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 5</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>

</head>
<body>

    
    <!-- 
        5° exercício: Construa uma requisição Ajax que irá ser chamada no momento em que a página carregar. 
        O Ajax deverá ter a seguinte URL: 'https://api.escuelajs.co/api/v1/products?offset=0&limit=1'. 
        Esta API irá nos retornar uma lista com um produto aleatório. 
        Com base nos dados que retornaram no nosso Ajax, construa um componente Card do Bootstrap que deverá ser exibido na tela contendo as informações recebidas no Ajax. 
        Utilize o seguinte link como base para implementação do componente card: https://getbootstrap.com/docs/4.0/components/card/.​

        Dica: Utilize os campos 'title', 'price', 'description' e 'images' do retorno do Ajax para montar o card.​

        Dica: 'images' é uma lista de imagens aleatórias. Você pode utilizar somente a primeira e exibí-la dentro do card.​

        Dica: A documentação do componente card do Bootstrap possui um exemplo completo de sua utilização. 
        Utilize este exemplo como base no retorno do Ajax para montar o html que será exibido na tela​
    -->

    <div class="text-center bg-primary " >
      <h1 class="p-3 fw-bold text-light">Card com imagem </h1>
    </div>
    <div class="container mt-5">
      <div class="row" id="cardContainer">
        
      </div>

    </div>
    </div>
    <script>
      $(document).ready(function() {
  
      const dados_api = "https://api.escuelajs.co/api/v1/products?offset=0&limit=1";

  
  function exibeCard() {
    $.ajax({
      url: dados_api,
      dataType: "json",
      success: function(dados) {
        
        criarcard(dados);
      },
      error: function(error) {
        console.error(`Ocorreu um erro ao obter os dados:, ${error}`);
      }
    });
  }
  
  function criarcard(dados) {
    const cardContainer = $("#cardContainer" );

    dados.forEach(item => {
      const card = `
        <div class="col-md-4 mb-4">
          <div class="card" style="width: 18rem;">
            <img src="${item.images}" class="card-img-top" alt="Imagem de produtos">
            <div class="card-body">
              <h5 class="card-title">${item.title}</h5>
              <p class="card-text">${item.description}</p>
              <p class="card-text">Valor: R$ ${item.price}</p>
            </div>
          </div>
        </div>
      `;

      cardContainer.append(card);
    });
  }
  exibeCard();
});

    </script>

</html>